# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ö–æ–º–ø–∞–∫—Ç–Ω–æ–≥–æ –¢–µ—Ä–º–æ–≥–µ–ª—å –†–µ–∞–∫—Ç–æ—Ä–∞

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤**

## üèóÔ∏è –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   –†–µ–∞–∫—Ç–æ—Ä       ‚îÇ    ‚îÇ   –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π    ‚îÇ    ‚îÇ   –í–Ω–µ—à–Ω–∏–π       ‚îÇ
‚îÇ   (–Ø–¥—Ä–æ)        ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   –û—Ö–ª–∞–¥–∏—Ç–µ–ª—å    ‚îÇ    ‚îÇ   –û—Ö–ª–∞–¥–∏—Ç–µ–ª—å    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                       ‚îÇ                       ‚îÇ
         ‚ñº                       ‚ñº                       ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   NET_GEL       ‚îÇ    ‚îÇ   –ú–æ–¥—É–ª–∏        ‚îÇ    ‚îÇ   –û–∫—Ä—É–∂–∞—é—â–∞—è    ‚îÇ
‚îÇ   –°–µ—Ç—å          ‚îÇ    ‚îÇ   (2x3)         ‚îÇ    ‚îÇ   –°—Ä–µ–¥–∞         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö
1. **–†–µ–∞–∫—Ç–æ—Ä** –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–µ–ø–ª–æ –∏ —ç–Ω–µ—Ä–≥–∏—é
2. **–¢–µ—Ä–º–æ–≥–µ–ª—å** –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç —Ç–µ–ø–ª–æ —á–µ—Ä–µ–∑ NET_GEL
3. **–û—Ö–ª–∞–¥–∏—Ç–µ–ª–∏** —Ä–∞—Å—Å–µ–∏–≤–∞—é—Ç —Ç–µ–ø–ª–æ –≤ –æ–∫—Ä—É–∂–∞—é—â—É—é —Å—Ä–µ–¥—É
4. **–ú–æ–¥—É–ª–∏** –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∏—Å—Ç–µ–º—ã

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π
```dm
// –°–æ—Å—Ç–æ—è–Ω–∏—è —Ä–µ–∞–∫—Ç–æ—Ä–∞
#define REAC_OFF        0  // –í—ã–∫–ª—é—á–µ–Ω
#define REAC_STARTING   1  // –ó–∞–ø—É—Å–∫
#define REAC_RUNNING    2  // –†–∞–±–æ—Ç–∞–µ—Ç
#define REAC_SCRAM      3  // –ê–≤–∞—Ä–∏–π–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
#define REAC_MELTDOWN   4  // –†–∞—Å–ø–ª–∞–≤–ª–µ–Ω–∏–µ
```

### –§–∏–∑–∏—á–µ—Å–∫–∏–µ —Ñ–æ—Ä–º—É–ª—ã
```dm
// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —ç–Ω–µ—Ä–≥–∏–∏
Q_gen = throttle * base_power * power_modifiers

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–ø–ª–∞
Q_heat = Q_gen * heat_factor * heat_modifiers

// –ü–µ—Ä–µ–¥–∞—á–∞ —Ç–µ–ø–ª–∞
Q_transfer = (core_T - gel_T) * transfer_coefficient

// –ö–æ–Ω–≤–µ–∫—Ü–∏–æ–Ω–Ω–æ–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ
Q_conv = (gel_T - env_T) * conv_area * conv_coefficient

// –†–∞–¥–∏–∞—Ü–∏–æ–Ω–Ω–æ–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏–µ
Q_rad = (gel_T^4 - env_T^4) * rad_area * rad_coefficient
```

### –°–µ—Ç—å NET_GEL
```dm
// –ë–∞–∑–æ–≤—ã–π –ø–æ—Ä—Ç –≥–µ–ª—è
/datum/gel_port
    var/net_type = NET_GEL
    var/connected = FALSE
    var/datum/gel_network_node/network

// –£–∑–µ–ª —Å–µ—Ç–∏ –≥–µ–ª—è
/datum/gel_network_node
    var/list/ports = list()
    var/current_flow = 0
    var/flow_capacity = 1000
    var/temperature = 300
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã
- `code/cnr_defs.dm` - –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
- `code/cnr_math.dm` - –§–∏–∑–∏—á–µ—Å–∫–∏–µ —Ñ–æ—Ä–º—É–ª—ã
- `code/cnr_reactor.dm` - –û—Å–Ω–æ–≤–Ω–æ–π —Ä–µ–∞–∫—Ç–æ—Ä
- `code/cnr_modules.dm` - –°–∏—Å—Ç–µ–º–∞ –º–æ–¥—É–ª–µ–π

### –°–∏—Å—Ç–µ–º—ã –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è
- `code/cnr_cooler_internal.dm` - –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –æ—Ö–ª–∞–¥–∏—Ç–µ–ª—å
- `code/cnr_cooler_external.dm` - –í–Ω–µ—à–Ω–∏–π –æ—Ö–ª–∞–¥–∏—Ç–µ–ª—å

### –°–µ—Ç—å –≥–µ–ª—è
- `gel_net/cnr_pipe_h.dm` - –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ —Ç—Ä—É–±—ã
- `gel_net/cnr_pipe_v.dm` - –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ —Ç—Ä—É–±—ã
- `gel_net/cnr_pump.dm` - –ù–∞—Å–æ—Å—ã
- `gel_net/cnr_gel_cell.dm` - –Ø—á–µ–π–∫–∏ –≥–µ–ª—è

### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- `tgui/cnr_reactor.tsx` - TGUI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- `config/cnr.json` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

## üîÑ –¶–∏–∫–ª –æ–±—Ä–∞–±–æ—Ç–∫–∏

### –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª (–∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã)
```dm
/obj/machinery/cnr_reactor/process()
    1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
    2. –†–∞—Å—á–µ—Ç —Ñ–∏–∑–∏–∫–∏ —Ä–µ–∞–∫—Ç–æ—Ä–∞
    3. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è
    4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä
    5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
    6. –ò–∑–ª—É—á–µ–Ω–∏–µ —Ä–∞–¥–∏–∞—Ü–∏–∏
    7. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
    8. –ü–µ—Ä–µ–¥–∞—á–∞ —ç–Ω–µ—Ä–≥–∏–∏ –≤ —Å–µ—Ç—å
    9. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è
```dm
apply_cooling()
    1. –ü–æ–ª—É—á–µ–Ω–∏–µ –º–æ—â–Ω–æ—Å—Ç–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –æ—Ö–ª–∞–¥–∏—Ç–µ–ª—è
    2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–Ω–µ—à–Ω–∏—Ö –æ—Ö–ª–∞–¥–∏—Ç–µ–ª–µ–π
    3. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –º–æ–¥—É–ª–µ–π
    4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –≥–µ–ª—è
```

## üõ°Ô∏è –°–∏—Å—Ç–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π SCRAM
```dm
check_safety_conditions()
    if(core_T > max_temp * 0.9)  // 90% –æ—Ç –º–∞–∫—Å–∏–º—É–º–∞
        trigger_warning()
    if(core_T > max_temp)        // 100% –æ—Ç –º–∞–∫—Å–∏–º—É–º–∞
        trigger_scram()
    if(core_T > max_temp * 1.2)  // 120% –æ—Ç –º–∞–∫—Å–∏–º—É–º–∞
        trigger_degradation()
    if(core_T > max_temp * 1.4)  // 140% –æ—Ç –º–∞–∫—Å–∏–º—É–º–∞
        trigger_tile_heat()
    if(core_T > max_temp * 1.6)  // 160% –æ—Ç –º–∞–∫—Å–∏–º—É–º–∞
        trigger_explosion()
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ —Å–µ—Ç–∏
```dm
validate_gel_network()
    1. –ì—Ä–∞—Ñ–æ–≤—ã–π –æ–±—Ö–æ–¥ –≤—Å–µ—Ö –ø–æ—Ä—Ç–æ–≤
    2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –æ–±—ä–µ–º–∞ –≥–µ–ª—è
    3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –≥–µ–ª—è
    4. –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫
    5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –∫ —á—É–∂–∏–º —Å–µ—Ç—è–º
```

## üéõÔ∏è –°–∏—Å—Ç–µ–º–∞ –º–æ–¥—É–ª–µ–π

### –ë–∞–∑–æ–≤—ã–π –¥–∞—Ç—É–º –º–æ–¥—É–ª—è
```dm
/datum/cnr_module
    var/name = "Base Module"
    var/desc = "Base module description"
    var/module_type = MODULE_BASE
    var/icon_state = "module_base"
    
    proc/apply_effects(list/modifiers)
    proc/on_install(obj/machinery/cnr_reactor/reactor)
    proc/on_remove(obj/machinery/cnr_reactor/reactor)
```

### –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
```dm
apply_module_effects()
    1. –°–±–æ—Ä –≤—Å–µ—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π
    2. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ
    3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ —Ä–µ–∞–∫—Ç–æ—Ä–∞
    4. –ü–µ—Ä–µ—Å—á–µ—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
```

## üîå –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å SS13

### –°–µ—Ç—å –ø–∏—Ç–∞–Ω–∏—è
```dm
transfer_power_to_network()
    if(power_output > 0)
        var/obj/machinery/power/terminal/terminal = locate() in get_turf(src)
        if(terminal && terminal.powernet)
            terminal.powernet.load += power_output
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞
```dm
// –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å SSmachines
SSmachines.processing += src

// –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
process_tick++
if(process_tick % 2 == 0)
    process_reactor_physics()
```

### TGUI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
```dm
// –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ TGUI
ui_data()
    return list(
        "state" = state,
        "power_output" = power_output,
        "core_temperature" = core_T,
        "gel_temperature" = gel_T,
        "throttle" = throttle,
        "modules" = get_module_data()
    )
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –í–Ω–µ—à–Ω–∏–π JSON —Ñ–∞–π–ª
```json
{
  "reactor": {
    "base_power": 500,
    "max_temperature": 1200,
    "startup_time": 30
  },
  "modules": {
    "cooling": {
      "coolant_booster": {
        "flow_bonus": 0.2,
        "viscosity_reduction": 0.1
      }
    }
  }
}
```

### –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```dm
load_configuration()
    var/config_file = file("config/cnr.json")
    var/config_data = json_decode(config_file)
    apply_configuration(config_data)
```

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```dm
log_process_data()
    var/log_entry = list(
        "timestamp" = world.time,
        "state" = state,
        "power" = power_output,
        "core_temp" = core_T,
        "gel_temp" = gel_T
    )
    process_log += log_entry
    if(process_log.len > max_log_entries)
        process_log.Cut(1, 2)
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
```dm
debug_info()
    return list(
        "state" = state,
        "power_output" = power_output,
        "core_temperature" = core_T,
        "gel_temperature" = gel_T,
        "throttle" = throttle,
        "modules_installed" = get_installed_modules(),
        "coolers_connected" = get_connected_coolers()
    )
```

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã –≤–º–µ—Å—Ç–æ –∫–∞–∂–¥–æ–≥–æ —Ç–∏–∫–∞
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–æ–≤ —Ñ–∏–∑–∏–∫–∏
- –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è CPU
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º—è—Ç–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ç–µ—á–µ–∫ –≤ —Å–µ—Ç–∏
- –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –º–æ–¥—É–ª–µ–π

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**: 0.2.0  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: 2024-01-XX  
**–°—Ç–∞—Ç—É—Å**: –ê–∫—Ç—É–∞–ª—å–Ω–æ
